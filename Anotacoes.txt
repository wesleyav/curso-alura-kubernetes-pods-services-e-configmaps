Kubernetes é um orquestrador

Cria e gerencia clusters que são compostos por uma ou mais máquinas trabalhando em conjunto 

Possui recursos (resources) prontos para utilização:
 - pod
 - rs
 - deploy
 - vol
 - hpa
 - pv
 - ing
 - pvc
 - svc
 - sc
 - ds
 - quota

As máquinas de um cluster podem ser:

Master
 - gerenciar o cluster
 - manter e atualizar o estado desejado
 - receber e executar novos comandos

 - Componentes (Control Plane)
   - api - receber e executar novos comandos (API REST)
   - c-m - manter e atualizar o estado desejado
   - sched - onde determinado código será executado no cluster
   - etcd - armazena todos os dados vitais do cluster através de um banco de dados chave/valor

Node
 - executar as aplicações

 - Componentes (Nodes)
   - kubelet- executa os pods dentro dos nodes
   - k-proxy - comunicação dentro do cluster


Ferramenta
kubectl - criar, ler, atualizar e remover os dados dos clusters, componentes, recursos etc.

Pode ser declarativo ou imperativo, por arquivos de definição ou executar comandos.

#################################################

# Donwload do Docker for Windows 2.3.3.2
# https://desktop.docker.com/win/edge/46784/Docker%20Desktop%20Installer.exe

# Abrir o docker e em configurações ativar a opção "kubernetes".

# Abrir o PowerShell

# Visualizar informações do cluster
$ kubectl get nodes

#################################################

# Instalando no Linux

# Seguir os passos em:

# Kubernetes
# kubernetes.io/docs/tasks/tools/install-kubectl/

# Minikube
# kubernetes.io/docs/tasks/tools/install-minikube/

# Virtualbox
# virtualbox.org/wiki/Linux_Downloads
# Versão 6.1.12

#################################################

Pods
 - cápsula que pode conter um ou mais containers
 - possui ip atribuído
 - compartilha ip no pod, porta diferente para cada container
 - pods são efêmeros
 - compartilham namespaces de rede e IPC
 - podem compartilhar volumes

#################################################

# Criar um pod
$ kubectl run nginx-pod --image=nginx:latest

# Visualizar informações do pod
$ kubectl get pods

# Visualizar informações do pod em tempo real
$ kubectl get pods --watch

# Exibir detalhes do pod
$ kubectl describe pod nginx-pod

# Editar um pod (vai abrir um notepad com o arquido, alterar versão do ngix de - image: nginx:latest para - image: nginx:1.0)
$ kubectl edit pod nginx-pod

# Vai gerar erro de versão não encontrada

#################################################